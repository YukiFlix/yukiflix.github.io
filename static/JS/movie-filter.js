const filterMovies = () => { const e = document.querySelector("#filterInput").value.toLowerCase(); document.querySelectorAll(".movie-card").forEach(t => t.style.display = t.querySelector(".card-title").textContent.toLowerCase().includes(e) ? "block" : "none"); history.replaceState(null, null, e ? `${window.location.pathname}?search=${e}` : window.location.pathname) }; document.querySelector("#filterInput").addEventListener("keypress", e => { "Enter" === e.key && (e.preventDefault(), filterMovies()) }), window.addEventListener("DOMContentLoaded", () => { const e = new URLSearchParams(window.location.search).get("search"); e && (document.querySelector("#filterInput").value = e, filterMovies()) });